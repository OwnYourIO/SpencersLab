authentik:
  envValueFrom: 
    #AUTHENTIK_POSTGRESQL__USER:
    #  secretKeyRef:
    #    key: username
    #    name: authentik-postgres
    AUTHENTIK_POSTGRESQL__PASSWORD:
      secretKeyRef:
        key: postgresql-password
        name: core-postgresql
    AUTHENTIK_EMAIL__USERNAME:
      secretKeyRef:
        key: username
        name: authentik-smtp
    AUTHENTIK_EMAIL__PASSWORD:
      secretKeyRef:
        key: password
        name: authentik-smtp
    AUTHENTIK_SECRET_KEY:
      secretKeyRef:
        key: secret_key
        name: authentik-secret-key
  events:
    context_processors:
      geoip: "/tmp/non-existent-file"
      asn: "/tmp/non-existent-file"
  # This sends anonymous usage-data, stack traces on errors and
  # performance data to sentry.io, and is fully opt-in
  error_reporting:
    enabled: false
  email:
    from: auth@spencerslab.com
    host: mail.spencerslab.com
    port: 587
    use_tls: true
    #username: auth@spencerslab.com

  postgresql:
    enabled: true
    auth: 
        username: authentik
        existingSecret: core-postgresql
        usePasswordFiles: true
  redis:
    enabled: true
#geoip:
#  # sign up under: https://www.maxmind.com/en/geolite2/signup
#  accountId: "912808"
#  enabled: true
#  licenseKey: ""

ingress:
  ingressClassName: traefik
  enabled: true
  hosts:
    # Specify external host name
    - host: auth.spencerslab.com
      paths:
        - path: "/"
          pathType: Prefix
