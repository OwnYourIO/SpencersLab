
remote-proxy:
  global:
    nameOverride: "remote-proxy"
  controllers:
    main:
      containers:
        main:
          image:
            repository: ghcr.io/linuxserver/openssh-server
            tag: 9.7_p1-r4-ls171
          env:
            TZ: America/Denver
            PUID: 2000
            PGID: 2000
            PUBLIC_KEY: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAy1rO5LsbzIrtqXCN6aJeLrJRlJIREC7nJZOUqsDaie 
            #PUBLIC_KEY_DIR:
            USER_NAME: proxy
            DOCKER_MODS: linuxserver/mods:openssh-server-ssh-tunnel

          resources:
            requests:
              cpu: 500m
              memory: 0.2Gi
            limits:
              memory: 4Gi
      pod:
        securityContext:
          fsGroup: 2000
          fsGroupChangePolicy: "OnRootMismatch"

  service:
    ssh:
      type: LoadBalancer
      externalTrafficPolicy: Local
      controller: main
      ports:
        ssh:
          port: 2222
          protocol: TCP
          targetPort: 2222

  persistence:
    sshd:
      existingClam: sshd
    globalMounts:
      - path: /etc/ssh
