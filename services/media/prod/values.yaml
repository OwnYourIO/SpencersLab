bitwardenIds:
  argocd-sso-secret: 6bc8ead2-faf6-4548-9831-b1a501646625

seaweedfs-csi-driver:
  seaweedfsFiler: "seaweedfs-filer.infra.spencerslab.com:8880,seaweedfs-filer.infra.spencerslab.com:8881,seaweedfs-filer.infra.spencerslab.com:8882,seaweedfs-filer.infra.spencerslab.com:8883,seaweedfs-filer.infra.spencerslab.com:8884"

jellyfin:
  app-template:
    controllers:
      jellyfin:
        pod:
          securityContext:
            runAsNonRoot: true
            runAsUser: 568
            # Using gid 2000 as "shared" group.
            runAsGroup: 568
            fsGroup: 568
            fsGroupChangePolicy: OnRootMismatch
            seccompProfile: { type: RuntimeDefault }
            supplementalGroups:
              - 44 # video
              - 109 # render
              - 105
              - 568
              - 1000
              - 2000
        containers:
          app:
            env:
              JELLYFIN_PublishedServerUrl: https://jellyfin.spencerslab.com
              DOTNET_SYSTEM_IO_DISABLEFILELOCKING: "true"
              JELLYFIN_FFmpeg__probesize: "50000000"
              JELLYFIN_FFmpeg__analyzeduration: "50000000"
    service:
      app:
        controller: jellyfin
        type: LoadBalancer
        ports:
          http:
            port: 8096
    ingress:
      app:
        hosts:
          - host: &host "jellyfin.spencerslab.com"
            paths:
              - path: /
                service:
                  identifier: app
                  port: http
        tls:
          - hosts:
              - *host
            secretName: wildcard-cert

jellyseerr:
  env:
    - name: TZ
      value: America/Denver

  ingress:
    enabled: true
    hosts:
      - host: "jellyseerr.spencerslab.com"
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: wildcard-cert
        hosts:
          - "jellyseerr.spencerslab.com"

  # Additional volumes on the output Deployment definition.
  volumes:
    - name: jellyseerr-config
      persistentVolumeClaim:
        claimName: jellyseerr

  # Additional volumeMounts on the output Deployment definition.
  volumeMounts:
    - name: jellyseerr-config
      mountPath: "/config"

